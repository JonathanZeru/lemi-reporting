(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{7546:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/status",function(){return t(5409)}])},5409:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var a=t(5893),r=t(7294),n=t(1163);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=(...e)=>e.filter((e,s,t)=>Boolean(e)&&t.indexOf(e)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:n="",children:l,iconNode:i,...d},u)=>(0,r.createElement)("svg",{ref:u,...o,width:s,height:s,stroke:e,strokeWidth:a?24*Number(t)/Number(s):t,className:c("lucide",n),...d},[...i.map(([e,s])=>(0,r.createElement)(e,s)),...Array.isArray(l)?l:[l]])),d=(e,s)=>{let t=(0,r.forwardRef)(({className:t,...a},n)=>(0,r.createElement)(i,{ref:n,iconNode:s,className:c(`lucide-${l(e)}`,t),...a}));return t.displayName=`${e}`,t},u=d("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),m=d("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),x=d("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function h(){let e=(0,n.useRouter)(),{paymentData:s}=e.query;console.log("paymentData from router query:",s);let[t,l]=(0,r.useState)(null),[c,o]=(0,r.useState)(null),[i,d]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=async()=>{if(s)try{let e=JSON.parse(decodeURIComponent(s));if(console.log("Decoded paymentData:",e),l(e),e.tx_ref){let t=await fetch("/api/verify-payment?tx_ref=".concat(e.tx_ref,"&paymentData=").concat(s)),a=await t.json();if(console.log("Verify response:",a),"success"===a.response.status||"Donation already successful"===a.response.status)switch(a.response.status){case"success":o("success");break;case"Donation already successful":o("Donation already successful")}else o("failed"),d(a.response.message||"Payment verification failed.")}else d("Transaction reference (tx_ref) is missing."),o("failed")}catch(e){console.error("Error parsing paymentData:",e),d("Failed to parse payment data."),o("failed")}};s&&e()},[s]),(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(20,57.6%,44.7%)] to-[hsl(213.5,62.3%,34.3%)] flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl overflow-hidden max-w-md w-full",children:[(0,a.jsx)("div",{className:"bg-[hsl(20,57.6%,44.7%)] p-6 text-center",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Payment Status"})}),(0,a.jsxs)("div",{className:"p-6",children:["Donation already successful"===c&&(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)(u,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-[hsl(var(--card-foreground))]",children:"Thank you! Donation already successful."})]}),"success"===c&&(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)(u,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-[hsl(var(--card-foreground))]",children:"Thank you! Your payment was successful."})]}),"failed"===c&&(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)(m,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-[hsl(var(--card-foreground))]",children:"Sorry, your payment could not be verified."}),(0,a.jsx)("p",{className:"text-red-500 mt-2",children:i})]}),null===c&&(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)(x,{className:"w-16 h-16 text-[hsl(20,57.6%,44.7%)] mx-auto mb-4 animate-spin"}),(0,a.jsx)("p",{className:"text-[hsl(var(--card-foreground))]",children:"Verifying payment, please wait..."})]}),t&&(0,a.jsx)("div",{className:"space-y-4",children:Object.entries(t).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-600 capitalize",children:[s.replace("_"," "),":"]}),(0,a.jsx)("span",{className:"text-sm text-[hsl(var(--card-foreground))]",children:t})]},s)})})]}),(0,a.jsx)("div",{className:"bg-gray-50 px-6 py-4",children:(0,a.jsx)("p",{className:"text-xs text-center text-gray-500",children:"If you have any questions, please contact our support team."})})]})})}},1163:function(e,s,t){e.exports=t(880)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=7546)}),_N_E=e.O()}]);